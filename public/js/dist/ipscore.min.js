!function(e){"use strict";e.fn.ipsAjaxButton=function(r={}){return this.each(function(){var i="",t=!0,s=function(e){var r="";""!=i&&(r='<p class="loader-message">'+i+"</p>"),e.prepend('<div class="loader active"><div class="loader-icon"></div>'+r+"</div>")},o=function(e){e.find(".loader").remove()};void 0!==r.loader_message&&(i=r.loader_message),e(this).on("click",function(i){i.preventDefault(),s(e(this)),"function"==typeof r.before&&r.before.call(this);var a=e(this),n=a.attr("action")||"/";e.ajax({url:n,method:"POST",type:"POST",dataType:"json",contentType:!1,processData:!1,context:this,success:function(i){i.fragments&&e.each(i.fragments,function(r,i){var t="",s=!1;if("object"==typeof i?(t=i.content,s=!0):t=i,e(r).replaceWith(t),s){var o=e(t).attr("id");e("#"+o).ipsAjaxForm({})}}),i.html&&"function"==typeof r.html&&r.html.call(this,i.html),i.reload?"function"==typeof r.reload_override?r.reload_override.call(this,i):(t=!1,location.reload()):i.redirect?"function"==typeof r.redirect_override?r.redirect_override.call(this,i):(t=!1,window.location.replace(i.redirect)):i.errors?(o(a),"function"==typeof r.failure_override?(r.failure_override.call(this,i.errors),r.failure.call(this,i.errors)):("function"==typeof r.failure&&r.failure.call(this,i.errors),e.each(i.errors,function(e){add_flash_error(e)}))):i.success&&("function"==typeof r.success_override?r.success_override.call(this,i.success):("function"==typeof r.success&&r.success.call(this,i.success),"true"!==i.success&&add_flash_success(i.success)))},complete:function(){"function"==typeof r.complete_override?r.complete_override.call(this):t&&o(e(this))}})})})}}(jQuery),function(e){"use strict";e.fn.ipsAjaxForm=function(r={}){return this.each(function(){var i="",t="submit",s="",o=!1,a=!0,n={add_error:function(e,r,i){var t=e.find('input[name="'+r+'"], input[name="'+r+'[]"], select[name="'+r+'"], textarea[name="'+r+'"]');if(t.length){var s='<p class="message error">'+i+"</p>";t.closest("fieldset").addClass("error").append(s)}else{s='<p class="message error">'+i+"</p>";n.add_message(e,s)}},add_message:function(e,r){e.prepend(r)},remove_error:function(e){e.removeClass("error").find(".message").remove()},clear_form:function(e){e.find(".message").remove(),e.find(".error").removeClass("error")},watch_errors:function(r){r.on("click","input, focus, select, textarea",function(){var r=e(this).parents("fieldset");r.hasClass("error")&&n.remove_error(r)})},add_loader:function(e){var r="";""!=i&&(r='<p class="loader-message">'+i+"</p>"),e.prepend('<div class="loader active"><div class="loader-icon"></div>'+r+"</div>")},remove_loader:function(e){e.find(".loader").remove()}};void 0!==r.auto_submit&&1==r.auto_submit&&(t="change paste submit",s=":input",o=!0),void 0!==r.loader_message&&(i=r.loader_message),e(this).on(t,s,function(i){var t=i.which;if(!o||"paste"===i.type||"change"===i.type||46===t||8===t||t>47&&t<58||32==t||13==t||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223){if(i.preventDefault(),n.add_loader(e(this)),"function"==typeof r.before&&r.before.call(this),o)var s=e(this).parents("form");else s=e(this);var c=new FormData,d=s.attr("action")||"/",l=s.serializeArray();e.each(l,function(e,r){c.append(r.name,r.value)});var u=s.find('input[type="file"]');e.each(e(u),function(r,i){var t=e(i).attr("name");e.each(i.files,function(e,r){c.append(t+"["+e+"]",r)})}),e.ajax({url:d,method:"POST",type:"POST",dataType:"json",contentType:!1,processData:!1,data:c,context:this,success:function(i){if(i.fragments&&e.each(i.fragments,function(r,i){var t="",s=!1;if("object"==typeof i?(t=i.content,s=!0):t=i,e(r).replaceWith(t),s){var o=e(t).attr("id");e("#"+o).ipsAjaxForm({})}}),i.html&&"function"==typeof r.html&&r.html.call(this,i.html),i.reload)"function"==typeof r.reload_override?r.reload_override.call(this,i):(a=!1,location.reload());else if(i.redirect)"function"==typeof r.redirect_override?r.redirect_override.call(this,i):(a=!1,window.location.replace(i.redirect));else if(i.errors)n.remove_loader(s),"function"==typeof r.failure_override?(r.failure_override.call(this,i.errors),r.failure.call(this,i.errors)):("function"==typeof r.failure&&r.failure.call(this,i.errors),n.clear_form(s),e.each(i.errors,function(e,r){n.add_error(s,e,r)}),n.watch_errors(s));else if(i.success)if("function"==typeof r.success_override)r.success_override.call(this,i.success),n.clear_form(s);else if("function"==typeof r.success&&r.success.call(this,i.success),n.clear_form(s),"true"!==i.success){var t='<p class="success message">'+i.success+"</p>";n.add_message(s,t)}},complete:function(){"function"==typeof r.complete_override?r.complete_override.call(this):a&&n.remove_loader(e(this))}})}})})}}(jQuery);var error_methods={add_error:function(e,r,i){var t=e.find('input[name="'+r+'"], input[name="'+r+'[]"], select[name="'+r+'"], textarea[name="'+r+'"]');if(t.length){var s='<p class="message error">'+i+"</p>";t.closest("fieldset").addClass("error").append(s)}else{s='<p class="message error">'+i+"</p>";methods.add_message(e,s)}},add_message:function(e,r){e.prepend(r)},remove_error:function(e){e.removeClass("error").find(".message").remove()},clear_form:function(e){e.find(".message").remove(),e.find(".error").removeClass("error")},watch_errors:function(e){e.on("click","input, focus, select, textarea",function(){var e=$(this).parents("fieldset");e.hasClass("error")&&error_methods.remove_error(e)})}};function show_errors(e,r){error_methods.clear_form(e),$.each(r,function(r,i){error_methods.add_error(e,r,i)}),error_methods.watch_errors(e)}function show_success(e,r){error_methods.clear_form(e);var i='<p class="success message">'+r+"</p>";error_methods.add_message(e,i)}function add_flash_success(e){add_flash(e,"success")}function add_flash_error(e){add_flash(e,"error")}function add_flash(e,r){if($("#flash-messages").length){var i=$('<p class="message '+r+'">'+e+'<span>Dismiss<i class="far fa-times-circle"></i></span></p>');$("#flash-messages .container").prepend(i),setTimeout(function(){i.fadeOut(400,function(){i.remove()})},3e3)}}function addLoader(e,r=""){r&&(r='<div class="loader-message">'+r+"</div>"),e.prepend('<div class="loader active"><div class="loader-icon"></div>'+r+"</div>")}function removeLoader(e){e.find(".loader").remove()}$(document).ready(function(){setTimeout(function(){var e=$("section#flash-messages .container p.message");e.fadeOut(400,function(){e.remove()})},3e3)}),jQuery(function(e){"use strict";e(".repeater-group .repeater-group-add").on("click",function(r){r.preventDefault();var i=e(this).siblings(".repeater-group-fields").find(".repeater-group-item:first-child").clone();e.each(i.find("input, select, textarea"),function(r,i){e(i).val(function(){this.defaultValue})}),i.appendTo(".repeater-group-fields")}),e(".repeater-group").on("click",".repeater-group-item .repeater-group-item-remove",function(){e(this).parents(".repeater-group-item").remove()})}),window.matchMedia||(window.matchMedia=function(){var e=window.styleMedia||window.media;if(!e){var r,i=document.createElement("style"),t=document.getElementsByTagName("script")[0];i.type="text/css",i.id="matchmediajs-test",t.parentNode.insertBefore(i,t),r="getComputedStyle"in window&&window.getComputedStyle(i,null)||i.currentStyle,e={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return i.styleSheet?i.styleSheet.cssText=t:i.textContent=t,"1px"===r.width}}}return function(r){return{matches:e.matchMedium(r||"all"),media:r||"all"}}}());var media_sizes={xl:1200,lg:992,md:768,sm:545,xs:1},media_queries={xl:0,lg:0,md:0,sm:0,xs:0};function refreshMediaQueries(){media_queries.xl=window.matchMedia("(min-width:1200px)"),media_queries.lg=window.matchMedia("(min-width:992px) and (max-width: 1199px)"),media_queries.md=window.matchMedia("(min-width:768px) and (max-width: 991px)"),media_queries.sm=window.matchMedia("(min-width:545px) and (max-width: 767px)"),media_queries.xs=window.matchMedia("(max-width:544px)")}function isBreakpoint(e){return media_queries[e].matches}function getBreakpoint(e){return media_sizes[e]}function isMobile(){return!(!isBreakpoint("xs")&&!isBreakpoint("sm"))}function isTablet(){return!!isBreakpoint("md")}function isLaptop(){return!!isBreakpoint("lg")}function isDesktop(){return!!isBreakpoint("xl")}function isBreakpointUp(e){if("xs"==e)return!0;if("sm"==e){if(isBreakpoint("sm")||isBreakpoint("md")||isBreakpoint("lg")||isBreakpoint("xl"))return!0}else if("md"==e){if(isBreakpoint("md")||isBreakpoint("lg")||isBreakpoint("xl"))return!0}else if("lg"==e){if(isBreakpoint("lg")||isBreakpoint("xl"))return!0}else if("xl"==e&&isBreakpoint("xl"))return!0;return!1}function isBreakpointDown(e){if("xs"==e){if(isBreakpoint("xs"))return!0}else if("sm"==e){if(isBreakpoint("xs")||isBreakpoint("sm"))return!0}else if("md"==e){if(isBreakpoint("xs")||isBreakpoint("sm")||isBreakpoint("md"))return!0}else if("lg"==e){if(isBreakpoint("xs")||isBreakpoint("sm")||isBreakpoint("md")||isBreakpoint("lg"))return!0}else if("xl"==e)return!0;return!1}function show_popup(e,r){if(!$("body").find("#popup").length){var i='<div id="popup" class="'+r+'"><div id="popup-close">x</div>'+e+"</div>",t='<div id="popup-cover" class="'+r+'"></div>';return $("body").prepend(t),$("body").prepend(i),$("body").find("#popup."+r.replace(" ","."))}}function remove_popup(e){var r=e.attr("class").replace(" ","."),i="#popup."+r+", #popup-cover."+r;$("body").find(i).fadeOut(function(){$("body").find(i).remove()})}refreshMediaQueries(),jQuery(function(e){e(window).on("resize",refreshMediaQueries)}),$(document).ready(function(){$("body").on("click","#popup-close, .popup-close",function(){remove_popup($(this).parents("#popup"))});$("body").on("click","#popup-cover",function(){var e=$(this).attr("class").replace(" ",".");remove_popup($("#popup."+e))})});